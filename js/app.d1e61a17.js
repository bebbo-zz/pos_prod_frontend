(function(t){function e(e){for(var r,o,s=e[0],l=e[1],c=e[2],u=0,p=[];u<s.length;u++)o=s[u],i[o]&&p.push(i[o][0]),i[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(r=!1)}r&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},i={app:0},n=[];function o(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"58ebc553"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise(function(e,r){a=i[t]=[e,r]});e.push(a[2]=r);var n,l=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(t),n=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=i[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+r+": "+n+")");o.type=r,o.request=n,a[1](o)}i[t]=void 0}};var u=setTimeout(function(){n({type:"timeout",target:c})},12e4);c.onerror=c.onload=n,l.appendChild(c)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3aa2":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),i=a("bb71");a("da64");r["a"].use(i["a"],{iconfont:"md"});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("navbar"),a("v-content",[a("router-view")],1)],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[t._v("POS")]),a("span",{staticClass:"font-weight-light"},[t._v("HANG DUC")])]),a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"success"},on:{click:t.register}},[a("span",{staticClass:"mr-2"},[t._v(t._s(t.$t("register")))])]),a("v-btn",{attrs:{flat:""},on:{click:t.login}},[a("span",{staticClass:"mr-2"},[t._v(t._s(t.$t("login")))])])],1),a("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[a("v-list-tile",{on:{click:t.home}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(t.$t("home")))])],1)],1),a("v-list-tile",{on:{click:t.cashier}},[a("v-list-tile-action",[a("v-icon",[t._v("add_to_queue")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(t.$t("cashier")))])],1)],1),a("v-list-tile",{on:{click:t.selling}},[a("v-list-tile-action",[a("v-icon",[t._v("dashboard")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(t.$t("products")))])],1)],1)],1),a("v-expansion-panel",[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("categories")))]),a("v-list",{attrs:{dense:""}},t._l(t.categories,function(e){return a("v-list-tile",{key:e.value,on:{click:function(a){t.category(e.value)}}},[a("v-list-tile-action",[a("v-icon",[t._v("link")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.text))])],1)],1)}))],1)],1)],1)],1)},l=[],c={name:"NavbarTop",data(){return{drawer:null,categories:[{text:"Ăn dặm",value:1},{text:"bách hoá",value:2},{text:"Chăm sóc sức khoẻ cho trẻ em",value:3},{text:"đồ chơi",value:4},{text:"Đồ dùng gia đình",value:5},{text:"Đồ dùng nhà bếp",value:6},{text:"Làm đẹp- súc khoẻ",value:7},{text:"Làm đẹp- sức khoẻ",value:8},{text:"thời trang nam",value:9},{text:"thời trang nữ",value:10},{text:"thời trang trẻ em",value:11},{text:"thời trang unisex",value:12},{text:"Vệ sinh phụ nữ",value:13}]}},methods:{home:function(t){this.$router.push("/"),t.preventDefault()},cashier:function(t){this.$router.push("/cashier"),t.preventDefault()},selling:function(t){this.$router.push("/display"),t.preventDefault()},login:function(t){this.$router.push("/login"),t.preventDefault()},register:function(t){this.$router.push("/register"),t.preventDefault()},category(t){this.$router.push("/categories/"+t)}}},u=c,d=a("2877"),p=a("6544"),h=a.n(p),v=a("8336"),m=a("cd55"),g=a("49e2"),f=a("132d"),_=a("8860"),b=a("ba95"),x=a("40fe"),y=a("5d23"),w=a("f774"),k=a("9910"),P=a("71d9"),$=a("706c"),C=a("2a7f"),V=Object(d["a"])(u,s,l,!1,null,null,null);V.options.__file="Navbar.vue";var T=V.exports;h()(V,{VBtn:v["a"],VExpansionPanel:m["a"],VExpansionPanelContent:g["a"],VIcon:f["a"],VList:_["a"],VListTile:b["a"],VListTileAction:x["a"],VListTileContent:y["a"],VListTileTitle:y["b"],VNavigationDrawer:w["a"],VSpacer:k["a"],VToolbar:P["a"],VToolbarSideIcon:$["a"],VToolbarTitle:C["a"]});var S={name:"App",components:{Navbar:T},data(){return{drawer:null}}},O=S,q=a("7496"),R=a("549c"),D=Object(d["a"])(O,n,o,!1,null,null,null);D.options.__file="App.vue";var U=D.exports;h()(D,{VApp:q["a"],VContent:R["a"]});var E=a("8c4f"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Home")},I=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",[a("v-parallax",{attrs:{src:"assets/hero.jpeg",height:"600"}},[a("v-layout",{staticClass:"white--text",attrs:{column:"","align-center":"","justify-center":""}},[a("img",{attrs:{src:"assets/vuetify.png",height:"200"}}),a("h1",{staticClass:"white--text mb-2 display-1 text-xs-center"},[t._v("POS Hang Duc")]),a("div",{staticClass:"subheading mb-3 text-xs-center"},[t._v("Powered by Graffl")]),a("v-btn",{staticClass:"blue lighten-2 mt-5",attrs:{dark:"",large:"",href:"/cashier"}},[t._v("\n            Get Started\n          ")])],1)],1)],1),a("section",[a("v-layout",{staticClass:"my-5",attrs:{column:"",wrap:"","align-center":""}},[a("v-flex",{staticClass:"my-3",attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"text-xs-center"},[a("h2",{staticClass:"headline"},[t._v("The best way to start developing")]),a("span",{staticClass:"subheading"},[t._v("\n              Cras facilisis mi vitae nunc \n            ")])])]),a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("color_lens")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[t._v("Material Design")])]),a("v-card-text",[t._v("\n                    Cras facilisis mi vitae nunc lobortis pharetra. Nulla volutpat tincidunt ornare. \n                    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. \n                    Nullam in aliquet odio. Aliquam eu est vitae tellus bibendum tincidunt. Suspendisse potenti. \n                  ")])],1)],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("flash_on")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline"},[t._v("Fast development")])]),a("v-card-text",[t._v("\n                    Cras facilisis mi vitae nunc lobortis pharetra. Nulla volutpat tincidunt ornare. \n                    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. \n                    Nullam in aliquet odio. Aliquam eu est vitae tellus bibendum tincidunt. Suspendisse potenti. \n                  ")])],1)],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"blue--text text--lighten-2",attrs:{"x-large":""}},[t._v("build")])],1),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center"},[t._v("Completely Open Sourced")])]),a("v-card-text",[t._v("\n                    Cras facilisis mi vitae nunc lobortis pharetra. Nulla volutpat tincidunt ornare. \n                    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. \n                    Nullam in aliquet odio. Aliquam eu est vitae tellus bibendum tincidunt. Suspendisse potenti. \n                  ")])],1)],1)],1)],1)],1)],1)],1)])},M=[],A={data:()=>({})},N=A,j=a("b0af"),B=a("99d9"),z=a("12b2"),G=a("a523"),H=a("0e8f"),X=a("a722"),Y=a("8b9c"),K=Object(d["a"])(N,L,M,!1,null,null,null);K.options.__file="Home.vue";var Q=K.exports;h()(K,{VBtn:v["a"],VCard:j["a"],VCardText:B["b"],VCardTitle:z["a"],VContainer:G["a"],VFlex:H["a"],VIcon:f["a"],VLayout:X["a"],VParallax:Y["a"]});var W={components:{Home:Q}},J=W,Z=Object(d["a"])(J,F,I,!1,null,null,null);Z.options.__file="Home.vue";var tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{ref:"barcode",attrs:{label:t.$t("barcode"),large:"",required:""},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}}),a("v-text-field",{attrs:{label:t.$t("quantity"),large:"",required:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),a("v-btn",{attrs:{disabled:!t.valid,large:""},on:{click:t.submit}},[t._v("\n            "+t._s(t.$t("submit"))+"\n          ")]),a("v-btn",{attrs:{large:""},on:{click:t.manualEntry}},[t._v(t._s(t.$t("manualentry")))])],1),a("p",[a("v-btn",{attrs:{color:"success"},on:{click:t.checkout}},[t._v(t._s(t.$t("cashpayment")))])],1)],1),a("v-flex",{attrs:{xs6:"","offset-xs1":""}},[a("Cart")],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.$t("manualentry")))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:t.$t("quantity"),required:""},model:{value:t.manual_quantity,callback:function(e){t.manual_quantity=e},expression:"manual_quantity"}}),a("v-text-field",{attrs:{label:t.$t("purchaseprice"),required:""},model:{value:t.manual_purchase_price,callback:function(e){t.manual_purchase_price=e},expression:"manual_purchase_price"}}),a("v-text-field",{attrs:{label:t.$t("itemname"),required:""},model:{value:t.manual_name,callback:function(e){t.manual_name=e},expression:"manual_name"}})],1),a("v-btn",{nativeOn:{click:function(e){t.dialog=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{nativeOn:{click:function(e){return t.addItemManually(e)}}},[t._v(t._s(t.$t("add")))])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.modalPayment,callback:function(e){t.modalPayment=e},expression:"modalPayment"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.$t("payment")))])]),a("v-card-text",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{placeholder:"0",solo:"",prefix:"VND",disabled:""},model:{value:t.paidDisplay,callback:function(e){t.paidDisplay=e},expression:"paidDisplay"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(1)}}},[t._v("1")])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(2)}}},[t._v("2")])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(3)}}},[t._v("3")])],1),a("v-flex",{attrs:{xs2:"","offset-xs2":""}},[a("v-btn",{attrs:{color:"warning",large:""},nativeOn:{click:function(e){t.quicktype(5e5)}}},[t._v("500.000")])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(4)}}},[t._v("4")])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(5)}}},[t._v("5")])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(6)}}},[t._v("6")])],1),a("v-flex",{attrs:{xs2:"","offset-xs2":""}},[a("v-btn",{attrs:{color:"warning",large:""},nativeOn:{click:function(e){t.quicktype(1e6)}}},[t._v("1.000.000")])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(7)}}},[t._v("7")])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(8)}}},[t._v("8")])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(9)}}},[t._v("9")])],1),a("v-flex",{attrs:{xs2:"","offset-xs2":""}},[a("v-btn",{attrs:{color:"warning",large:""},nativeOn:{click:function(e){t.quicktype(2e6)}}},[t._v("2.000.000")])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:""}},[a("p",[t._v(" ")])]),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.typing(0)}}},[t._v("0")])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){t.multiply(1e3)}}},[t._v("'000")])],1),a("v-flex",{attrs:{xs2:"","offset-xs2":""}},[a("v-btn",{attrs:{color:"warning",large:""},nativeOn:{click:function(e){return t.exact(e)}}},[t._v("Exact")])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("p",[t._v(" ")])])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"error",large:""},nativeOn:{click:function(e){return t.clear(e)}}},[t._v(t._s(t.$t("clear")))])],1),a("v-flex",{attrs:{xs2:""}},[a("p",[t._v(" ")])]),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"error",large:""},nativeOn:{click:function(e){return t.closeDialog(e)}}},[t._v(t._s(t.$t("cancel")))])],1),a("v-flex",{attrs:{xs2:"","offset-xs2":""}},[a("v-btn",{attrs:{color:"success",large:""},nativeOn:{click:function(e){return t.finishPayment(e)}}},[t._v(t._s(t.$t("printreceipt")))])],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.modalReturn,callback:function(e){t.modalReturn=e},expression:"modalReturn"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.$t("givechange")))])]),a("v-card-text",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("p",[t._v(t._s(t.$t("pleasereturn"))+" "+t._s(t.formatPrice(t.changeToGive))+" "+t._s(t.$t("vnd")))])])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-btn",{attrs:{color:"info",large:""},nativeOn:{click:function(e){return t.closeDialog(e)}}},[t._v(t._s(t.$t("printadditionalreceipt")))])],1),a("v-flex",{attrs:{xs3:"","offset-xs1":""}},[a("v-btn",{attrs:{color:"error",large:""},nativeOn:{click:function(e){return t.closeDialog(e)}}},[t._v(t._s(t.$t("cancel")))])],1),a("v-flex",{attrs:{xs3:"","offset-xs1":""}},[a("v-btn",{attrs:{color:"success",large:""},nativeOn:{click:function(e){return t.nextCustomer(e)}}},[t._v(t._s(t.$t("nextcustomer")))])],1)],1)],1)],1)],1)],1)],1)},at=[],rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart"},[a("h1",{staticClass:"title"},[t._v(t._s(t.$t("yourcart")))]),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.products.length,expression:"!products.length"}]},[a("i",[t._v(t._s(t.$t("yourcartisempty")))]),a("router-link",{attrs:{to:"/"}},[t._v(t._s(t.$t("goshopping")))])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.products},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.quantity))]),a("td",[t._v(t._s(t.formatPrice(e.item.price))+" "+t._s(t.$t("vnd")))]),a("td",[a("v-btn",{on:{click:function(a){t.removeFromCart(e.item)}}},[a("v-icon",[t._v("delete")])],1)],1)]}}])}),a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("b",[t._v(t._s(t.$t("total"))+":")])]),a("v-flex",{attrs:{xs6:""}},[a("b",[t._v(t._s(t.formatPrice(t.total))+" "+t._s(t.$t("vnd")))])])],1)],1)],1)},it=[],nt=a("2f62"),ot={data(){return{headers:[{text:"Name",value:"name"},{text:"Quantity",value:"quantity"},{text:"Price",value:"price"},{text:"Remove",value:"remove"}],totalSum:0}},computed:{...Object(nt["c"])({products:"cartProducts"}),total(){return this.products.reduce((t,e)=>{return t+e.price*e.quantity},0)}},methods:{...Object(nt["b"])(["removeFromCart"]),getTotalSum(){return this.products.reduce((t,e)=>{return t+e.price*e.quantity},0)},formatPrice(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},st=ot,lt=a("8fea"),ct=Object(d["a"])(st,rt,it,!1,null,null,null);ct.options.__file="Cart.vue";var ut=ct.exports;h()(ct,{VBtn:v["a"],VContainer:G["a"],VDataTable:lt["a"],VFlex:H["a"],VIcon:f["a"],VLayout:X["a"]});var dt=a("8aa5"),pt=a.n(dt),ht=(a("e71f"),{apiKey:"AIzaSyAuUipBNyaGMG_QW99aC8lIznLF5YnmHfI",authDomain:"vnshoptest.firebaseapp.com",databaseURL:"https://vnshoptest.firebaseio.com",projectId:"vnshoptest",storageBucket:"vnshoptest.appspot.com",messagingSenderId:"715849988597"});const vt=pt.a.initializeApp(ht);var mt=vt,gt={name:"cashier",data(){return{product_id:null,barcode:null,category:null,price:null,name:null,quantity:1,manual_quantity:null,manual_purchase_price:null,manual_name:null,manual_counter:0,dialog:!1,modalPayment:!1,modalReturn:!1,valid:!0,moneyPaid:0,paidDisplay:null,changeToGive:0,receiptId:null}},components:{Cart:ut},computed:{...Object(nt["c"])({totalSum:"getTotalSum",products:"cartProducts"})},updated:function(){console.log("updated "+this.$refs.barcode),this.$nextTick(()=>this.$refs.barcode.focus())},methods:{...Object(nt["b"])(["addToCart"]),checkout(){this.modalPayment=!0},closeDialog(){this.modalPayment=!1,this.modalReturn=!1},typing(t){this.moneyPaid=10*this.moneyPaid+t,this.paidDisplay=this.formatPrice(this.moneyPaid)},quicktype(t){this.moneyPaid=t,this.paidDisplay=this.formatPrice(this.moneyPaid)},multiply(){this.moneyPaid=1e3*this.moneyPaid,this.paidDisplay=this.formatPrice(this.moneyPaid)},clear(){this.moneyPaid=0,this.paidDisplay=this.formatPrice(this.moneyPaid)},exact(){this.moneyPaid=this.totalSum,this.paidDisplay=this.formatPrice(this.moneyPaid)},finishPayment(){this.changeToGive=Math.floor(this.moneyPaid-this.totalSum),this.changeToGive<0?alert("Not enough money paid"):(this.modalPayment=!1,this.storeReceipt(),this.modalReturn=!0)},getitems(){this.$store.getters.cartProducts},storeReceipt(){console.log("store receipt");var t=mt.firestore(),e=[];this.products.forEach(t=>{var a=t.quantity*t.price,r={product_id:t.product_id,price:t.price,quantity:t.quantity,barcode:t.barcode,name:t.name,category:t.category,total:a};e.push(r)}),console.log(this.totalSum);var a={totalPrice:this.totalSum,receiptDate:new Date,products:e},r=this;t.collection("orders").add(a).then(t=>{console.log("order stored successfully");var a={orderId:t.id,totalPrice:r.totalSum,moneyPaid:r.moneyPaid,moneyChange:r.changeToGive,products:e,created:new Date};const i=new XMLHttpRequest;i.open("POST","/app/process",!0),i.setRequestHeader("Content-Type","application/json"),i.send(a)})},formatPrice(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},manualEntry(){console.log("write "+this.$refs.barcode.$el.children[0].text),this.$nextTick(()=>this.$refs.barcode.focus()),this.manual_quantity=1,this.manual_purchase_price=0,this.manual_name="extra item"},addItemManually(){this.dialog=!1,this.manual_counter=this.manual_counter+1;var t={product_id:this.manual_counter,price:this.manual_purchase_price,quantity:this.manual_quantity,barcode:this.manual_counter,name:this.manual_name,category:"manually added"};this.addToCart(t),this.setToStart()},submit(){var t=mt.firestore();t.collection("products").where("barcode","==",this.barcode).get().then(t=>{t.forEach(t=>{var e={product_id:t.id,price:t.data().price,quantity:Math.floor(this.quantity),barcode:t.data().barcode,name:t.data().name,category:t.data().category};this.addToCart(e),this.setToStart()})})},nextCustomer(){this.product_id=null,this.barcode=null,this.ategory=null,this.price=null,this.name=null,this.quantity=1,this.manual_quantity=null,this.manual_purchase_price=null,this.manual_name=null,this.manual_counter=0,this.dialog=!1,this.modalPayment=!1,this.modalReturn=!1,this.valid=!0,this.moneyPaid=0,this.paidDisplay=null,this.changeToGive=0,this.receiptId=null,this.setToStart()},setToStart(){this.barcode=null,this.quantity=1,this.$nextTick(()=>this.$refs.barcode.focus())}}},ft=gt,_t=a("169a"),bt=a("4bd4"),xt=a("2677"),yt=Object(d["a"])(ft,et,at,!1,null,null,null);yt.options.__file="Cashier.vue";var wt=yt.exports;h()(yt,{VBtn:v["a"],VCard:j["a"],VCardText:B["b"],VCardTitle:z["a"],VContainer:G["a"],VDialog:_t["a"],VFlex:H["a"],VForm:bt["a"],VLayout:X["a"],VTextField:xt["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.categories,box:"",label:t.$t("displayperpage")},on:{change:t.categoryChanged},model:{value:t.currentCategory,callback:function(e){t.currentCategory=e},expression:"currentCategory"}})],1),a("v-flex",{attrs:{xs4:""}},[a("div",{staticStyle:{"{display":"block}"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearch,expression:"txtSearch"}],staticClass:"kleiner",attrs:{type:"text",placeholder:t.$t("search")},domProps:{value:t.txtSearch},on:{input:function(e){e.target.composing||(t.txtSearch=e.target.value)}}}),a("v-btn",{attrs:{color:"info"},on:{click:t.search}},[a("v-icon",[t._v("search")])],1)],1)]),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.sclItemsPerPage,box:"",label:t.$t("itemsperpage")},on:{change:t.perPageChanged},model:{value:t.pageOne.itemsPerPage,callback:function(e){t.$set(t.pageOne,"itemsPerPage",e)},expression:"pageOne.itemsPerPage"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-pagination",{attrs:{length:t.pageOne.totalPages,"total-visible":5},on:{input:t.pageOneChanged},model:{value:t.pageOne.currentPage,callback:function(e){t.$set(t.pageOne,"currentPage",e)},expression:"pageOne.currentPage"}})],1),t._l(Math.ceil(t.products.length/3),function(e){return a("v-layout",{key:e,attrs:{"align-start":"","justify-center":"",row:"",wrap:""}},t._l(t.products.slice(3*(e-1),3*e),function(e){return a("v-flex",{key:e.id,attrs:{"align-self-center":"","xs-4":""}},[a("v-card",{attrs:{tile:"","elevation-8":""}},[a("v-img",{attrs:{center:"","max-width":"250px","max-height":"250px",src:e.thumbUrl}}),a("v-card-title",{attrs:{"primary-title":""}},[a("v-container",[a("small",{staticClass:"text-muted",attrs:{width:"100%"}},[a("b",[t._v(t._s(e.name))]),a("br"),t._v(t._s(t.formatPrice(e.price))+" VND")])])],1),a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"orange"},on:{click:function(a){t.viewProduct(e.product_id)}}},[a("v-icon",[t._v("zoom_in")])],1),a("v-btn",{attrs:{flat:"",color:"orange"},on:{click:function(a){t.editProduct(e.product_id)}}},[a("v-icon",[t._v("build")])],1),a("v-btn",{attrs:{flat:"",color:"orange"},on:{click:function(a){t.addToCart(e)}}},[a("v-icon",[t._v("add_shopping_cart")])],1)],1)],1)],1)}))})],2)],1)},Pt=[],$t={name:"display",data(){return{txtSearch:null,isLoggedIn:!1,currentUser:!1,isEmployee:!1,currentCategory:"All",categories:["All","Ăn dặm","bách hoá","Chăm sóc sức khoẻ cho trẻ em","đồ chơi","Đồ dùng gia đình","Đồ dùng nhà bếp","Làm đẹp- súc khoẻ","Làm đẹp- sức khoẻ","thời trang nam","thời trang nữ","thời trang trẻ em","thời trang unisex","Vệ sinh phụ nữ"],sclItemsPerPage:[10,50,100,1e3],productsAll:[],products:[],pageOne:{currentPage:1,totalPages:10,totalItems:null,itemsPerPage:100}}},beforeMount(){console.log("running through only once");var t=mt.firestore();mt.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=mt.auth().currentUser.email,t.collection("users").where("email","==",this.currentUser).get().then(t=>{t.forEach(t=>{var e=t.data().role;"employee"===e&&(this.isEmployee=!0)})})),console.log(this.$route.params.category_id),void 0==this.$route.params.category_id?this.singleSearch("1","1","1","==","1"):(console.log(this.categories[this.$route.params.category_id]),this.currentCategory=this.categories[this.$route.params.category_id],this.singleSearch("category",this.currentCategory,"1","==","1"))},methods:{...Object(nt["b"])(["addToCart"]),formatPrice(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},search(){this.productsAll=[];var t="",e="";"All"==this.currentCategory?(t="1",e="1"):(t="category",e=this.currentCategory),""==this.txtSearch||null==this.txtSearch||void 0==this.txtSearch?this.singleSearch(t,e,"1","==","1"):(this.singleSearch(t,e,"barcode","==",this.txtSearch),this.singleSearch(t,e,"article_number","==",this.txtSearch),this.singleSearch(t,e,"name","==",this.txtSearch))},singleSearch(t,e,a,r,i){var n=mt.firestore(),o=null;o="1"==t?"1"==a?n.collection("products"):n.collection("products").where(a,r,i):"1"==a?n.collection("products").where(t,"==",e):n.collection("products").where(t,"==",e).where(a,r,i),o.get().then(t=>{t.forEach(t=>{var e=null;e=void 0==t.data().thumbUrl||""==t.data().thumbUrl?"https://firebasestorage.googleapis.com/v0/b/vnshoptest.appspot.com/o/images%2Fno-image-icon-6.png?alt=media&token=4b4b8e91-6525-4607-b845-b2e8f0ce3b98":t.data().thumbUrl;const a={product_id:t.id,article_number:t.data().article_number,barcode:t.data().barcode,category:t.data().category,colour:t.data().colour,description:t.data().description,name:t.data().name,name_ger:t.data().name_ger,price:t.data().price,size:t.data().size,thumbUrl:e};this.productsAll.push(a)}),this.resetPagination()})},resetPagination(){this.pageOne.currentPage=1,0==this.productsAll.length?(this.pageOne.totalItems=0,this.pageOne.totalPages=1):(this.pageOne.totalItems=this.productsAll.length,this.pageOne.totalPages=Math.ceil(this.pageOne.totalItems/this.pageOne.itemsPerPage));var t=Math.min(this.pageOne.itemsPerPage,this.productsAll.length);this.products=this.productsAll.slice(0,t)},pageOneChanged(t){console.log("page changed, items per page: "+this.pageOne.itemsPerPage),this.pageOne.currentPage=t,this.products=this.productsAll.slice((t-1)*this.pageOne.itemsPerPage,this.pageOne.itemsPerPage*t)},perPageChanged(){this.resetPagination()},categoryChanged(){this.search()},viewProduct(t){this.$router.push("/"+t)},editProduct(t){this.$router.push("/edit/"+t)}}},Ct=$t,Vt=(a("9bad"),a("adda")),Tt=a("891e"),St=a("b56d"),Ot=Object(d["a"])(Ct,kt,Pt,!1,null,null,null);Ot.options.__file="Display.vue";var qt=Ot.exports;h()(Ot,{VBtn:v["a"],VCard:j["a"],VCardActions:B["a"],VCardTitle:z["a"],VContainer:G["a"],VFlex:H["a"],VIcon:f["a"],VImg:Vt["a"],VLayout:X["a"],VPagination:Tt["a"],VSelect:St["a"]});var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"edit-product"}},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("h3",[t._v(t._s(t.$t("editproduct")))])]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:t.$t("barcode")},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:t.$t("articlenumber")},model:{value:t.article_number,callback:function(e){t.article_number=e},expression:"article_number"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:t.$t("namegerman")},model:{value:t.name_ger,callback:function(e){t.name_ger=e},expression:"name_ger"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:t.$t("namedisplay")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:t.$t("price")},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:t.$t("category")},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-subheader",[t._v(t._s(t.$t("productdescription")))]),a("quill-editor",{model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-subheader",[t._v(t._s(t.$t("thumbimage")))]),a("ul",{staticStyle:{"list-style-type":"none"}},[a("li",[a("v-text-field",{attrs:{label:t.$t("thumbimage"),"prepend-icon":"attach_file"},on:{click:t.pickThumbFile},model:{value:t.thumbFile,callback:function(e){t.thumbFile=e},expression:"thumbFile"}}),a("input",{ref:"thumbimage",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onThumbFilePicked}}),a("br")],1)])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-subheader",[t._v(t._s(t.$t("images")))]),a("ul",{staticStyle:{"list-style-type":"none"}},[a("li",[a("v-text-field",{attrs:{label:t.$t("images"),"prepend-icon":"attach_file"},on:{click:t.pickFile},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}}),a("br")],1),t._l(t.picsLength,function(e){return a("li",{key:e-1},[a("img",{attrs:{src:t.picsUrl[e-1],width:"150",height:"150"}}),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",color:"info"},on:{click:function(a){t.deletePicture(e-1)}},slot:"activator"},[a("v-icon",[t._v("delete")])],1),a("span",[t._v(t._s(t.$t("deleteimage")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",color:"info"},on:{click:function(a){t.downloadPicture(e-1)}},slot:"activator"},[a("v-icon",[t._v("save_alt")])],1),a("span",[t._v(t._s(t.$t("downloadimage")))])],1)],1)})],2)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("intakes")))]),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator"},on:{click:t.showIntakeModal},slot:"activator"},[a("v-icon",[t._v("save_alt")])],1),a("span",[t._v(t._s(t.$t("addintake")))])],1),a("ul",t._l(t.intakes,function(e){return a("li",{key:e.id},[a("div",{staticClass:"chip"},[t._v(t._s(e.quantity))]),t._v("\n            "+t._s(e.purchase_price)+" "+t._s(t.$t("from"))+" "+t._s(e.supplier)+"\n          ")])}))],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-divider"),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator"},on:{click:t.updateProduct},slot:"activator"},[a("v-icon",[t._v("save")])],1),a("span",[t._v(t._s(t.$t("save")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator"},on:{click:t.deleteProduct},slot:"activator"},[a("v-icon",[t._v("delete")])],1),a("span",[t._v(t._s(t.$t("deleteproduct")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator"},on:{click:t.abort},slot:"activator"},[a("v-icon",[t._v("highlight_off")])],1),a("span",[t._v(t._s(t.$t("cancel")))])],1)],1)],1)],1),a("v-dialog",{model:{value:t.modalAddIntake,callback:function(e){t.modalAddIntake=e},expression:"modalAddIntake"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.$t("newintake")))])]),a("v-card-text",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:t.$t("quantity")},model:{value:t.newin_quantity,callback:function(e){t.newin_quantity=e},expression:"newin_quantity"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:t.$t("purchaseprice")},model:{value:t.newin_purchase_price,callback:function(e){t.newin_purchase_price=e},expression:"newin_purchase_price"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:t.$t("supplier")},model:{value:t.newin_supplier,callback:function(e){t.newin_supplier=e},expression:"newin_supplier"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",color:"success",large:""},nativeOn:{click:function(e){return t.saveIntake(e)}},slot:"activator"},[t._v("Save")]),a("span",[t._v(t._s(t.$t("save")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",color:"error",large:""},nativeOn:{click:function(e){return t.closeDialog(e)}},slot:"activator"},[t._v("Cancel")]),a("span",[t._v(t._s(t.$t("cancel")))])],1)],1)],1)],1)],1)],1)],1)],1)},Dt=[],Ut=(a("a753"),a("8096"),a("14e1"),a("953d")),Et={name:"edit-product",data(){return{product_id:null,article_number:null,barcode:null,category:null,colour:null,description:null,name:null,name_ger:null,price:null,size:null,tags:[],file:null,intakes:[],picsUrl:[],picsReference:[],picsMaxRef:null,picsLength:null,newin_quantity:null,newin_purchase_price:null,newin_supplier:null,thumbFile:null,thumbUrl:null,modalAddIntake:!1}},beforeRouteEnter(t,e,a){var r=mt.firestore(),i=[];r.collection("intakes").where("product_id","==",t.params.product_id).get().then(t=>{t.forEach(t=>{var e={id:t.id,purchase_price:t.data().purchase_price,quantity:t.data().quantity,supplier:t.data().supplier};i.push(e)})}),console.log("routerbeforeenter: "+t.params.product_id);var n=r.collection("products").doc(t.params.product_id);n.get().then(function(t){t.exists?a(e=>{e.product_id=t.id,e.article_number=t.data().article_number,e.barcode=t.data().barcode,e.category=t.data().category,e.colour=t.data().colour,e.description=t.data().description,e.name=t.data().name,e.name_ger=t.data().name_ger,e.price=t.data().price,e.size=t.data().size,e.intakes=i,e.picsUrl=t.data().picsUrl,e.picsReference=t.data().picsReference,e.picsLength=t.data().picsLength,e.picsMaxRef=t.data().picsMaxRef,e.thumbUrl=t.data().thumbUrl,e.tags=t.data().tags}):console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})},watch:{$route:"fetchData"},components:{quillEditor:Ut["quillEditor"]},methods:{fetchData(){var t=mt.firestore();t.collection("intakes").where("product_id","==",this.$route.params.product_id).get().then(t=>{t.forEach(t=>{var e={id:t.id,purchase_price:t.data().purchase_price,quantity:t.data().quantity,supplier:t.data().supplier};this.intakes.push(e)})});var e=t.collection("products").doc(this.$route.params.product_id);e.get().then(function(t){t.exists?(this.product_id=t.id,this.article_number=t.data().article_number,this.barcode=t.data().barcode,this.category=t.data().category,this.colour=t.data().colour,this.description=t.data().description,this.name=t.data().name,this.name_ger=t.data().name_ger,this.price=t.data().price,this.size=t.data().size,this.picsUrl=t.data().picsUrl,this.picsReference=t.data().picsReference,this.picsLength=t.data().picsLength,this.picsMaxRef=t.data().picsMaxRef,this.thumbUrl=t.data().thumbUrl,this.tags=t.data().tags):console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})},updateProduct(){var t=mt.firestore(),e=t.collection("products").doc(this.$route.params.product_id);console.log("here to update"),void 0==this.article_number&&(this.article_number=""),void 0==this.size&&(this.size=""),void 0==this.category&&(this.category=""),void 0==this.description&&(this.description=""),void 0==this.colour&&(this.colour=""),void 0==this.thumbUrl&&(this.thumbUrl=""),void 0==this.name_ger&&(this.name_ger=""),void 0==this.picsUrl&&(this.picsUrl=[],this.picsReference=[],this.picsMaxRef=-1,this.picsLength=0),void 0==this.tags&&(this.tags=[]),e.update({article_number:this.article_number,barcode:this.barcode,category:this.category,colour:this.colour,description:this.description,name:this.name,name_ger:this.name_ger,price:this.price,size:this.size,picsUrl:this.picsUrl,picsReference:this.picsReference,picsLength:this.picsLength,picsMaxRef:this.picsMaxRef,thumbUrl:this.thumbUrl,tags:this.tags}).then(()=>{console.log("it worked"),this.$router.push({name:"edit-product",params:{product_id:this.product_id}})}).catch(t=>{console.log(t)})},deletePicture(t){if(console.log("delete picture number: "+t),confirm("Are you sure?")){this.picsUrl.splice(t,1);var e=this.picsReference.splice(t,1);this.picsLength=this.picsLength-1;var a=e[0],r=mt.storage(),i=r.ref(),n=i.child("images/"+a);n.delete().then(function(){console.log("delete successful")}).catch(function(t){console.log(t)})}},pickFile(){this.$refs.image.click()},onFilePicked(t){const e=t.target.files;if(void 0!==e[0]){if(this.imageName=e[0].name,this.imageName.lastIndexOf(".")<=0)return;const t=new FileReader;t.readAsDataURL(e[0]),t.addEventListener("load",()=>{this.imageUrl=t.result,this.imageFile=e[0]})}else this.imageName="",this.imageFile="",this.imageUrl=""},pickThumbFile(){this.$refs.thumbimage.click()},onThumbFilePicked(t){const e=t.target.files;if(void 0!==e[0]){this.thumbFile=e[0].name;const t=new FileReader;t.readAsDataURL(e[0]),t.addEventListener("load",()=>{this.thumbFile=e[0]}),this.loadfileresized()}else this.thumbFile=""},downloadPicture(t){console.log("download: "+this.picsUrl[t]);var e=this.picsReference[t]+"jpg",a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var t=new Blob([a.response],{type:"image/jpeg"}),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download=e,r.click()},a.open("GET",this.picsUrl[t]),a.send()},deleteProduct(){if(confirm("Are you sure?")){var t=mt.firestore(),e=t.collection("products").doc(this.$route.params.product_id);e.delete(),this.$router.push("/")}},showIntakeModal(){this.newin_quantity=null,this.newin_purchase_price=null,this.newin_supplier=null,this.$refs.modal1.show()},saveIntake(){var t=mt.firestore();t.collection("intakes").add({product_id:this.$route.params.product_id,purchase_price:this.newin_purchase_price,quantity:this.newin_quantity,supplier:this.newin_supplier}).then(t=>{var e={id:t.id,purchase_price:this.newin_purchase_price,quantity:this.newin_quantity,supplier:this.newin_supplier};console.log(e),this.intakes.push(e)}).catch(t=>{console.log(t)})},fileSelected(t){this.file=t.target.files[0],console.log(t.target.files),this.uploadFile()},thumbFileSelected(t){this.thumbFile=t.target.files[0],this.uploadThumbFile()},uploadFile(){var t=this.file,e=this.$route.params.product_id,a=1;void 0==this.picsMaxRef||null==this.picsMaxRef?(console.log("nothing was there before"),a=1,this.picsUrl=[],this.picsReference=[],this.picsLength=0):a=this.picsMaxRef+1;var r=this;if(null!=t){console.log("start importing");var i=mt.storage().ref(),n="images/"+e+"_"+a,o=i.child(n),s=o.put(t);s.on("state_changed",function(t){var e=t.bytesTransferred/t.totalBytes*100;switch(console.log("Upload is "+e+"% done"),t.state){case mt.storage.TaskState.PAUSED:console.log("Upload is paused");break;case mt.storage.TaskState.RUNNING:console.log("Upload is running");break}},function(t){console.log(t)},function(){s.snapshot.ref.getDownloadURL().then(function(t){console.log("File available at",t),r.picsUrl.push(t),r.picsReference.push(e+"_"+a),r.picsLength=r.picsLength+1,r.picsMaxRef=a,r.file=null,r.updateProduct()})})}},uploadBlob(t,e){var a=this.$route.params.product_id,r=this;console.log("twenty");var i=mt.storage().ref(),n="images/"+a+"_thumb",o=i.child(n);console.log("twentyone");var s=o.put(t,{contentType:e});console.log("twentytwo"),s.on("state_changed",function(t){var e=t.bytesTransferred/t.totalBytes*100;console.log("Upload is "+e+"% done")},function(t){console.log(t)},function(){s.snapshot.ref.getDownloadURL().then(function(t){console.log("File available at",t),r.thumbUrl=t,r.thumbFile=null})})},abort(){this.$router.push("/")},loadfileresized(){var t=1,e=this.thumbFile,a=this,r=new FileReader;r.readAsDataURL(e),r.onload=function(e){var r=new Image;r.onload=function(e){console.log(e);var i=0,n=0,o=document.createElement("canvas"),s=250,l=r.width,c=r.height;l>c?l>s&&(c*=s/l,n=(s-c)/2,l=s):c>s&&(l*=s/c,i=(s-l)/2,c=s),o.width=s,o.height=s,o.getContext("2d").drawImage(r,i,n,l,c),o.toBlob(t=>{console.log("twelve"+t),a.uploadBlob(t,"image/jpeg")},"image/jpeg",t)},r.src=e.target.result}}}},Ft=Et,It=a("ce7e"),Lt=a("e0c7"),Mt=a("3a2f"),At=Object(d["a"])(Ft,Rt,Dt,!1,null,null,null);At.options.__file="EditProduct.vue";var Nt=At.exports;h()(At,{VBtn:v["a"],VCard:j["a"],VCardText:B["b"],VCardTitle:z["a"],VContainer:G["a"],VDialog:_t["a"],VDivider:It["a"],VFlex:H["a"],VIcon:f["a"],VLayout:X["a"],VSubheader:Lt["a"],VTextField:xt["a"],VTooltip:Mt["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"view-product"}},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:""}},[t.picturesRendered.length>0?a("v-carousel",{attrs:{height:400,max:400,cycle:!1}},t._l(t.picturesRendered,function(t,e){return a("v-carousel-item",{key:e,attrs:{src:t.url}})})):t._e()],1),a("v-flex",{attrs:{xs4:""}},[a("ul",{staticStyle:{"list-style-type":"none"}},[a("li",[a("h4",[t._v(t._s(t.name))])]),a("li",[t._v(t._s(t.$t("price"))+": "+t._s(t.formatPrice(t.price))+" "+t._s(t.$t("vnd")))]),a("li",[t._v(t._s(t.$t("barcode"))+": "+t._s(t.barcode))]),a("li",[t._v(t._s(t.$t("category"))+": "+t._s(t.category))])]),a("v-btn",{attrs:{color:"pink",dark:"",absolute:"",bottom:"",right:"",fab:""}},[a("v-icon",[t._v("add_shopping_cart")])],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("p",[t._v(" ")]),a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("productdescription")))]),a("p",[t._v(t._s(t.description))])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-divider"),a("v-subheader",[t._v(t._s(t.$t("review")))]),a("p")],1)],1)],1)],1)},Bt=[],zt={name:"view-product",data(){return{product_id:null,article_number:null,barcode:null,category:null,colour:null,description:null,name:null,name_ger:null,price:null,size:null,tags:null,pictures:[],picturesRendered:[]}},beforeRouteEnter(t,e,a){console.log("here gehts");var r=mt.firestore(),i=r.collection("products").doc(t.params.product_id);i.get().then(function(t){t.exists?a(e=>{if(e.product_id=t.id,e.article_number=t.data().article_number,e.barcode=t.data().barcode,e.category=t.data().category,e.colour=t.data().colour,e.description=t.data().description,e.name=t.data().name,e.name_ger=t.data().name_ger,e.price=t.data().price,e.size=t.data().size,void 0!=t.data().picsUrl){e.pictures=t.data().picsUrl;var a=[];t.data().picsUrl.forEach(t=>{var e=new Image;e.onload=function(){var e=this.width,r=this.height,i=300;e>r?e>i&&(r*=i/e,e=i):r>i&&(e*=i/r,r=i);const n={url:t,width:e,height:r};a.push(n)},e.src=t}),e.picturesRendered=a}}):console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})},watch:{$route:"fetchData"},methods:{formatPrice(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},fetchData(){var t=mt.firestore();console.log("fetchdata: "+this.$route.params.product_id);var e=t.collection("products").doc(this.$route.params.product_id);e.get().then(function(t){t.exists?(this.product_id=t.id,this.article_number=t.data().article_number,this.barcode=t.data().barcode,this.category=t.data().category,this.colour=t.data().colour,this.description=t.data().description,this.name=t.data().name,this.name_ger=t.data().name_ger,this.price=t.data().price,this.size=t.data().size,this.pictures=t.data().picsUrl):console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})}}},Gt=zt,Ht=a("5e66"),Xt=a("3e35"),Yt=Object(d["a"])(Gt,jt,Bt,!1,null,null,null);Yt.options.__file="ViewProduct.vue";var Kt=Yt.exports;h()(Yt,{VBtn:v["a"],VCarousel:Ht["a"],VCarouselItem:Xt["a"],VContainer:G["a"],VDivider:It["a"],VFlex:H["a"],VIcon:f["a"],VLayout:X["a"],VSubheader:Lt["a"]});var Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"confirm-order"}},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("h3",[t._v(t._s(t.$t("thankyouforpurchase")))]),a("v-spacer")],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("h4",[t._v(t._s(t.$t("order"))+": "+t._s(this.order_id))]),a("br"),a("h4",[t._v(t._s(t.$t("total"))+": "+t._s(this.totalPrice))]),a("v-spacer")],1),t._l(t.items,function(e){return a("v-layout",{key:e.product_id,attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-divider"),t._v("\n        "+t._s(e.name)+" "),a("br"),t._v("\n        "+t._s(e.quantity)+" X "+t._s(e.price)+" = "+t._s(e.total)+"\n      ")],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"warning"},on:{click:function(a){t.sendreview(e.product_id)}}},[t._v(t._s(t.$t("review")))]),a("v-btn",{attrs:{color:"warning"},on:{click:function(a){t.ordermore(e.product_id)}}},[t._v(t._s(t.$t("ordermore")))])],1)],1)})],2),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.reviewDialog,callback:function(e){t.reviewDialog=e},expression:"reviewDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.$t("review")))])]),a("v-card-text",[a("v-form",{ref:"form"},[a("v-rating",{attrs:{"background-color":"orange lighten-3",color:"orange","x-large":""},model:{value:t.currentRating,callback:function(e){t.currentRating=e},expression:"currentRating"}}),a("v-textarea",{attrs:{name:"input-7-1",label:"Your comments"},model:{value:t.currentComment,callback:function(e){t.currentComment=e},expression:"currentComment"}})],1),a("v-btn",{nativeOn:{click:function(e){t.reviewDialog=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{nativeOn:{click:function(e){return t.addReview(e)}}},[t._v(t._s(t.$t("add")))])],1)],1)],1)],1)},Wt=[],Jt=a("94f8"),Zt=a.n(Jt),te={name:"confirm-order",data(){return{totalPrice:null,order_id:null,reviewDialog:!1,currentProduct:null,currentComment:null,items:[],currentRating:3}},beforeRouteEnter(t,e,a){var r=mt.firestore(),i=r.collection("orders").doc(t.params.order_id);i.get().then(function(e){if(e.exists){var r=t.params.token,i=t.params.order_id,n="123",o=Math.floor(e.data().totalPrice),s=i+n+o,l=Zt()(s).toString();console.log(r),console.log(l),r==l&&a(t=>{t.order_id=e.id,t.totalPrice=e.data().totalPrice;var a=[];e.data().products.forEach(t=>{const e={barcode:t.barcode,name:t.name,quantity:t.quantity,price:t.price,total:t.total,product_id:t.product_id};a.push(e)}),t.items=a})}else console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})},watch:{$route:"fetchData"},methods:{fetchData(){},sendreview(t){this.currentProduct=t,this.reviewDialog=!0},addReview(){},ordermore(t){this.$router.push({name:"view-product",params:{product_id:t}})}}},ee=te,ae=a("1d4d"),re=a("a844"),ie=Object(d["a"])(ee,Qt,Wt,!1,null,null,null);ie.options.__file="ConfirmOrder.vue";var ne=ie.exports;h()(ie,{VBtn:v["a"],VCard:j["a"],VCardText:B["b"],VCardTitle:z["a"],VContainer:G["a"],VDialog:_t["a"],VDivider:It["a"],VFlex:H["a"],VForm:bt["a"],VLayout:X["a"],VRating:ae["a"],VSpacer:k["a"],VTextarea:re["a"]});var oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"login card-panel green white-text center"},[a("h3",[t._v(t._s(t.$t("login")))]),a("v-form",[a("v-icon",[t._v("email")]),a("v-text-field",{attrs:{label:t.$t("email")},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-icon",[t._v("lock")]),a("v-text-field",{attrs:{label:t.$t("password")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{attrs:{color:"success"},on:{click:t.login}},[t._v(t._s(t.$t("login")))])],1)],1)])],1)],1)],1)},se=[],le={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(t){console.log("register"),mt.auth().signInWithEmailAndPassword(this.email,this.password).then(t=>{console.log("You are logged in as "+t.email),this.$router.go({path:this.$router.path})},t=>{alert(t.message)}),t.preventDefault()}}},ce=le,ue=Object(d["a"])(ce,oe,se,!1,null,null,null);ue.options.__file="Login.vue";var de=ue.exports;h()(ue,{VBtn:v["a"],VContainer:G["a"],VFlex:H["a"],VForm:bt["a"],VIcon:f["a"],VLayout:X["a"],VTextField:xt["a"]});var pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"register"}},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"login card-panel grey lighten-4 black-text"},[a("h3",[t._v(t._s(t.$t("register")))]),a("v-form",[a("v-icon",[t._v("email")]),a("v-text-field",{attrs:{label:t.$t("email")},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-icon",[t._v("lock")]),a("v-text-field",{attrs:{label:t.$t("password")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{attrs:{color:"success"},on:{click:t.register}},[t._v(t._s(t.$t("register")))])],1)],1)])],1)],1)],1)},he=[],ve={name:"register",data:function(){return{email:"",password:""}},methods:{register:function(t){console.log("register"),mt.auth().createUserWithEmailAndPassword(this.email,this.password).then(t=>{console.log("Account created for "+t.email),this.$router.go({path:this.$router.path})},t=>{alert(t.message)}),t.preventDefault()}}},me=ve,ge=Object(d["a"])(me,pe,he,!1,null,null,null);ge.options.__file="Register.vue";var fe=ge.exports;h()(ge,{VBtn:v["a"],VContainer:G["a"],VFlex:H["a"],VForm:bt["a"],VIcon:f["a"],VLayout:X["a"],VTextField:xt["a"]}),r["a"].use(E["a"]);var _e=new E["a"]({routes:[{path:"/",name:"home",component:tt},{path:"/login",name:"login",component:de},{path:"/register",name:"register",component:fe},{path:"/categories/:category_id",name:"categories",component:qt},{path:"/cashier",name:"cashier",component:wt},{path:"/display",name:"display",component:qt},{path:"/edit/:product_id",name:"edit-product",component:Nt},{path:"/:product_id",name:"view-product",component:Kt},{path:"/order/:order_id/:token",name:"confirm-order",component:ne},{path:"/about",name:"about",component:()=>a.e("about").then(a.bind(null,"f820"))}]});r["a"].use(nt["a"]);var be=new nt["a"].Store({state:{added:[],totalSum:0},mutations:{addToCart(t,e){const a=t.added.find(t=>t.product_id===e.product_id);if(a){var i=1;i=void 0==e.quantity?1:Math.floor(1*e.quantity),a.quantity=Math.floor(a.quantity+1*i),a.totalPrice=Math.floor(a.quantity*a.price)}else if(t.added.push(e),1==e.quantity)r["a"].set(e,"totalPrice",e.price);else{var n=Math.floor(e.quantity*e.price);r["a"].set(e,"totalPrice",n)}var o=0;t.added.forEach(t=>{o=Math.floor(o+t.totalPrice)}),t.totalSum=Math.floor(o)},removeFromCart(t,e){let a=t.added.indexOf(e);a>-1&&t.added.splice(a,1);var r=0;t.added.forEach(t=>{r+=t.totalPrice}),t.totalSum=r}},actions:{addToCart({commit:t},e){t("addToCart",e)},removeFromCart({commit:t},e){t("removeFromCart",e)},moveTotalSum({commit:t},e){t("moveTotalSum",e)}},getters:{getNumberOfProducts:t=>t.added?t.added.length:0,cartProducts:t=>{return t.added},getTotalSum:t=>t.totalSum}}),xe=a("a925"),ye=a("e312"),we=a("a91e");r["a"].use(xe["a"]);const ke=new xe["a"]({locale:"vn",fallbackLocale:"en",messages:{en:ye,vn:we}});r["a"].config.productionTip=!1,new r["a"]({router:_e,store:be,i18n:ke,render:t=>t(U)}).$mount("#app")},"9bad":function(t,e,a){"use strict";var r=a("3aa2"),i=a.n(r);i.a},a91e:function(t){t.exports={yourcart:"Giỏ hàng",yourcartisempty:"Không có sản phẩm nào trong giỏ hàng",goshopping:"Mua sắm",total:"Tổng cộng",vnd:"đ",editproduct:"Chỉnh sửa",articlenumber:"Mã sản phẩm",namegerman:"Tên sp tiếng Đức",namedisplay:"Tên sản phẩm",price:"Đơn giá",category:"Danh mục",productdescription:"Mô tả sp",thumbimage:"Hình đại diện",images:"Hình ảnh",deleteimage:"Xoá ảnh",downloadimage:"Tải ảnh",intakes:"Hàng mua (Goods purchase)",addintake:"Lưu (Save)",from:"từ",save:"Lưu",deleteproduct:"Xoá sản phẩm",cancel:"Bỏ",newintake:"Thêm hàng mua (new goods purchase)",quantity:"Số lượng",purchaseprice:"Giá mua",supplier:"Nhà cung cấp",barcode:"Barcode",submit:"Lưu",manualentry:"Nhập bằng tay",cashpayment:"Trả bằng tiền mặt",itemname:"Tên sản phẩm",add:"Thêm",payment:"Thanh toán",clear:"Xoá hết",printreceipt:"In hoá đơn",givechange:"Tiền thối lại",pleasereturn:"Tiền thối lại",nextcustomer:"Khách hàng kế tiếp",printadditionalreceipt:"In thêm hoá đơn",thankyouforpurchase:"Cảm ơn quý khách đã mua hàng",order:"Đặt hàng",review:"Xem trước",ordermore:"Đặt thêm hàng",displayperpage:"Hiển thị mỗi trang",itemsperpage:"Sản phẩm mỗi trang",search:"Tìm kiếm",register:"Đăng ký",login:"Đăng nhập",home:"Trang chủ",cashier:"Thu ngân",products:"Sản phẩm",categories:"Danh mục",email:"Email",password:"Mật khẩu",newproduct:"Sản phẩm mới"}},e312:function(t){t.exports={yourcart:"Your Cart",yourcartisempty:"Your cart is empty!",goshopping:"Go shopping",total:"Total",vnd:"VND",editproduct:"Edit Product",articlenumber:"Article Number",namegerman:"Name (German)",namedisplay:"Name (Display)",price:"Price",category:"Category",productdescription:"Product Description",thumbimage:"Thumb Image",images:"Images",deleteimage:"Delete Image",downloadimage:"Download Image",intakes:"Intakes",addintake:"Add Intake",from:"from",save:"Save",deleteproduct:"Delete Product",cancel:"Cancel",newintake:"New Intake",quantity:"Quantity",purchaseprice:"Purchase Price",supplier:"Supplier",barcode:"Barcode",submit:"Submit",manualentry:"Manual Entry",cashpayment:"Cash Payment",itemname:"Item Name",add:"Add",payment:"Payment",clear:"Clear",printreceipt:"Print Receipt",givechange:"Give Change",pleasereturn:"Please return",nextcustomer:"Next Customer",printadditionalreceipt:"Print Additional Receipt",thankyouforpurchase:"Thank you for your purchase...",order:"Order",review:"Review",ordermore:"Order More",displayperpage:"Display per page",itemsperpage:"Items per page",search:"Search",register:"Register",login:"Login",home:"Home",cashier:"Cashier",products:"Products",categories:"Categories",email:"Email",password:"Password",newproduct:"New Product"}}});
//# sourceMappingURL=app.d1e61a17.js.map